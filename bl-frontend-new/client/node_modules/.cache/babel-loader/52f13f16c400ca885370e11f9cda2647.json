{"ast":null,"code":"var _jsxFileName = \"/app/src/pages/LoginDialog.js\",\n    _s = $RefreshSig$();\n\nimport React, { Component, isValidElement, useEffect, useRef } from \"react\";\nimport { Modal, Button } from \"react-bootstrap\";\nimport { connect } from 'react-redux';\nimport GoogleLogin from 'react-google-login';\nimport FacebookLogin from 'react-facebook-login';\nimport { CircularProgress } from '@material-ui/core';\nimport axios from 'axios';\nimport { toast } from 'react-toastify';\nimport ls from 'local-storage';\nimport { isEmailValid, uniqueId, onToast, isEmpty } from \"../utils\";\nimport PasswordField from \"../components/PasswordField\";\nimport { userLogin, ___followUp, fetchMyApps, addfollowerPost } from '../actions/user'; // import { addMyApp } from '../actions/my_apps';\n\nimport { addMyAppALL } from '../actions/my_apps';\nimport { addContentsData, addFollowsData } from '../actions/app';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst LoginDialog = props => {\n  _s();\n\n  const [displayName, setDisplayName] = React.useState(\"\");\n  const [email, setEmail] = React.useState(\"\");\n  const [password, setPassword] = React.useState(\"\");\n  const [mode, setMode] = React.useState(\"login\");\n  const [showModal, setShowModal] = React.useState(false);\n  const [error, setError] = React.useState(false);\n  const [errorMessages, setErrorMessages] = React.useState([]);\n  const [loginLoading, setLoginLoading] = React.useState(false);\n  const [loadingFacebook, setLoadingFacebook] = React.useState(false);\n  const [loadingGoogle, setLoadingGoogle] = React.useState(false);\n  const [registerLoading, setRegisterLoading] = React.useState(false);\n  const [forgotLoading, setForgotLoading] = React.useState(false); // loadingEP\n  // const [updateLoading, setUpdateLoading] = React.useState(false);\n\n  useEffect(() => {\n    setShowModal(false);\n    return () => {\n      setShowModal();\n      setLogoutLoading();\n    };\n  }, []);\n  useEffect(() => {\n    setShowModal(props.showModal);\n  }, [props.showModal]);\n\n  const contentBody = () => {\n    switch (mode) {\n      case 'login':\n        {\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            children: /*#__PURE__*/_jsxDEV(\"form\", {\n              className: \"form-horizontal form-loanable\",\n              children: /*#__PURE__*/_jsxDEV(\"fieldset\", {\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"form-group has-feedback required\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    htmlFor: \"login-email\",\n                    className: \"col-sm-5\",\n                    children: \"Username or email\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 61,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"col-sm-12\",\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"form-control-feedback\",\n                      \"aria-hidden\": \"true\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 63,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                      type: \"text\",\n                      name: \"email\",\n                      id: \"login-email\",\n                      className: \"form-control\",\n                      placeholder: \"Enter username or email\",\n                      value: email,\n                      onChange: e => {\n                        setEmail(e.target.value);\n                      }\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 64,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 62,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 60,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"form-group has-feedback required\",\n                  children: /*#__PURE__*/_jsxDEV(PasswordField, {\n                    label: \"Password\",\n                    placeholder: \"*****\",\n                    value: password,\n                    onChange: e => {\n                      setPassword(e.target.value);\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 78,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 77,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"col-sm-12\",\n                  children: [/*#__PURE__*/_jsxDEV(\"a\", {\n                    href: \"#\",\n                    onClick: e => {\n                      e.preventDefault();\n                      setMode(\"forgot\");\n                    },\n                    children: \" Forgot password\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 85,\n                    columnNumber: 21\n                  }, this), \"|\", /*#__PURE__*/_jsxDEV(\"a\", {\n                    href: \"#\",\n                    onClick: e => {\n                      e.preventDefault();\n                      setMode(\"register\");\n                    },\n                    children: \" Create new account\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 86,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 84,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 59,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 58,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 11\n          }, this);\n        }\n\n      case 'register':\n        {\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: /*#__PURE__*/_jsxDEV(\"form\", {\n                className: \"form-horizontal form-loanable\",\n                children: /*#__PURE__*/_jsxDEV(\"fieldset\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"form-group has-feedback required\",\n                    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                      htmlFor: \"login-email\",\n                      className: \"col-sm-5\",\n                      children: \"Display name\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 128,\n                      columnNumber: 21\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"col-sm-12\",\n                      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"form-control-feedback\",\n                        \"aria-hidden\": \"true\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 130,\n                        columnNumber: 23\n                      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                        type: \"text\",\n                        name: \"name\",\n                        id: \"name\",\n                        className: \"form-control\",\n                        placeholder: \"Enter display name\",\n                        value: displayName,\n                        onChange: e => {\n                          setDisplayName(e.target.value);\n                        }\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 131,\n                        columnNumber: 23\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 129,\n                      columnNumber: 21\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 127,\n                    columnNumber: 19\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"form-group has-feedback required\",\n                    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                      htmlFor: \"login-email\",\n                      className: \"col-sm-5\",\n                      children: \"Email address\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 145,\n                      columnNumber: 21\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"col-sm-12\",\n                      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"form-control-feedback\",\n                        \"aria-hidden\": \"true\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 147,\n                        columnNumber: 23\n                      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                        type: \"text\",\n                        name: \"email\",\n                        id: \"email\",\n                        className: \"form-control\",\n                        placeholder: \"Enter email address\",\n                        value: email,\n                        onChange: e => {\n                          setEmail(e.target.value);\n                        }\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 148,\n                        columnNumber: 23\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 146,\n                      columnNumber: 21\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 144,\n                    columnNumber: 19\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"form-group has-feedback required\",\n                    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                      htmlFor: \"login-password\",\n                      className: \"col-sm-5\",\n                      children: \"Password\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 162,\n                      columnNumber: 21\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"col-sm-12\",\n                      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"form-control-feedback\",\n                        \"aria-hidden\": \"true\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 164,\n                        columnNumber: 23\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"login-password-wrapper\",\n                        children: /*#__PURE__*/_jsxDEV(\"input\", {\n                          type: \"password\",\n                          name: \"password\",\n                          id: \"password\",\n                          className: \"form-control\",\n                          placeholder: \"*****\",\n                          value: password,\n                          onChange: e => {\n                            setPassword(e.target.value);\n                          }\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 166,\n                          columnNumber: 25\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 165,\n                        columnNumber: 23\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 163,\n                      columnNumber: 21\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 161,\n                    columnNumber: 19\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 126,\n                  columnNumber: 17\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 125,\n                columnNumber: 15\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 124,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-sm-12\",\n              children: /*#__PURE__*/_jsxDEV(\"span\", {\n                style: {\n                  cursor: 'pointer'\n                },\n                className: \"span-border-bottom \",\n                onClick: e => {\n                  setMode(\"login\");\n                },\n                children: \"Back to login\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 192,\n                columnNumber: 15\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 191,\n              columnNumber: 13\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 123,\n            columnNumber: 11\n          }, this);\n        }\n\n      case 'forgot':\n        {\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            children: /*#__PURE__*/_jsxDEV(\"form\", {\n              className: \"form-horizontal form-loanable\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"col-sm-12\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"form-control-feedback\",\n                  \"aria-hidden\": \"true\",\n                  children: \"Email address\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 210,\n                  columnNumber: 17\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  name: \"email\",\n                  id: \"email\",\n                  className: \"form-control\",\n                  placeholder: \"Enter email address\",\n                  value: email,\n                  onChange: e => {\n                    setEmail(e.target.value);\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 211,\n                  columnNumber: 17\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 209,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"col-sm-12\",\n                children: /*#__PURE__*/_jsxDEV(\"span\", {\n                  style: {\n                    cursor: 'pointer'\n                  },\n                  className: \"span-border-bottom \",\n                  onClick: e => {\n                    setMode(\"login\");\n                  },\n                  children: \"Back to login\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 232,\n                  columnNumber: 17\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 231,\n                columnNumber: 15\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 208,\n              columnNumber: 13\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 207,\n            columnNumber: 11\n          }, this);\n        }\n    }\n  };\n\n  const contentFooter = () => {\n    switch (mode) {\n      case 'login':\n        {\n          return /*#__PURE__*/_jsxDEV(Modal.Footer, {\n            children: [/*#__PURE__*/_jsxDEV(Button, {\n              variant: \"secondary\",\n              onClick: () => props.onClose(),\n              children: \"Close\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 253,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              variant: \"primary\",\n              onClick: handleFormSubmit,\n              children: [\"Login  \", loginLoading && /*#__PURE__*/_jsxDEV(CircularProgress, {\n                size: 15\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 254,\n                columnNumber: 98\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 254,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 252,\n            columnNumber: 17\n          }, this);\n          /*\n          return  <div>\n            <button\n              type=\"submit\"\n              onClick={handleFormSubmit}\n              disabled={ (isEmpty(email) && isEmpty(password)) ? true: false }\n              className={\"div-button\"} >Login\n              { loginLoading && <CircularProgress size={15}/> }\n            </button>    \n            <GoogleLogin\n              clientId=\"693724870615-2hkmknke3sj6puo9c88nk67ouuu9m8l1.apps.googleusercontent.com\"\n              buttonText=\"Login\"\n              onSuccess={responseGoogle}\n              onFailure={responseGoogle}\n              cookiePolicy={'single_host_origin'}\n            />\n             <FacebookLogin\n              appId=\"1088597931155576\"\n              // autoLoad={true}\n              fields=\"name,email,picture\"\n              onClick={()=>{\n                clickedFacebook()\n              }}\n              callback={(response)=>{\n                this.responseFacebook(response)\n              }} />\n          </div>\n          */\n        }\n\n      case 'register':\n        {\n          return /*#__PURE__*/_jsxDEV(Modal.Footer, {\n            children: [/*#__PURE__*/_jsxDEV(Button, {\n              variant: \"secondary\",\n              onClick: () => props.onClose(),\n              children: \"Close\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 291,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              variant: \"primary\",\n              onClick: handleFormSubmit,\n              children: [\"Register \", registerLoading && /*#__PURE__*/_jsxDEV(CircularProgress, {\n                size: 15\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 292,\n                columnNumber: 103\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 292,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 290,\n            columnNumber: 17\n          }, this); // return  <div className=\"form-action\" className=\"col-sm-12\">\n          //           <button\n          //             type=\"submit\"\n          //             disabled={ (isEmpty(displayName) && isEmpty(email) && isEmpty(password)) ? true: false }\n          //             className={\"div-button\"} >Register \n          //             { registerLoading && <CircularProgress size={15}/> }\n          //             </button>\n          //         </div>\n        }\n\n      case 'forgot':\n        {\n          return /*#__PURE__*/_jsxDEV(Modal.Footer, {\n            children: [/*#__PURE__*/_jsxDEV(Button, {\n              variant: \"secondary\",\n              onClick: () => props.onClose(),\n              children: \"Close\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 307,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              variant: \"primary\",\n              onClick: handleFormSubmit,\n              children: [\"Send \", forgotLoading && /*#__PURE__*/_jsxDEV(CircularProgress, {\n                size: 15\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 308,\n                columnNumber: 97\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 308,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 306,\n            columnNumber: 17\n          }, this); // return<div className=\"form-action\" className=\"col-sm-12\">\n          //         <button\n          //           type=\"submit\"\n          //           disabled={ isEmpty(email) ? true: false }\n          //           className={\"div-button\"} >Send \n          //           { forgotLoading && <CircularProgress size={15}/> }\n          //         </button>\n          //       </div>\n        }\n    }\n  };\n\n  const handleFormSubmit = async formSubmitEvent => {\n    console.log(\"handleFormSubmit mode : \", mode);\n    formSubmitEvent.preventDefault();\n\n    switch (mode) {\n      case 'login':\n        {\n          let _email = email.trim();\n\n          let _password = password.trim();\n\n          if (isEmpty(_email) && isEmpty(_password)) {\n            onToast(\"error\", \"Email & password is empty.\");\n          } else if (isEmpty(_email)) {\n            onToast(\"error\", \"Email is empty.\");\n          } else if (isEmpty(_password)) {\n            onToast(\"error\", \"Password is empty.\");\n          } else {\n            setLoginLoading(true);\n            let response = await axios.post(`/api/v1/login`, {\n              email: _email,\n              password: _password\n            }, {\n              headers: {\n                'Authorization': `Basic ${process.env.REACT_APP_AUTHORIZATION}`\n              }\n            });\n            response = response.data;\n            console.log(\"/api/v1/login : response = xx \", response);\n\n            if (response.result) {\n              let {\n                basic_auth,\n                session,\n                user,\n                contents,\n                follows\n              } = response.data;\n              ls.set('basic_auth', basic_auth);\n              ls.set('session', session);\n              props.userLogin(user);\n              props.addContentsData(contents);\n              props.addFollowsData(follows);\n              props.onClose();\n              console.log('/login > user : ', response.data);\n              onToast(\"info\", `Welcome to banlist.info cccc`);\n            } else {\n              onToast(\"error\", response.message);\n            }\n\n            setLoginLoading(false);\n            /*\n            setLoginLoading(true)\n            axios.post(`/api/v1/login`, {\n              name: _email, \n              password: _password, \n              // unique_id: uniqueId()\n            })\n            .then((response) => {\n              let results = response.data\n                   \n              // let { userLogin,\n              //       ___followUp,\n              //       fetchMyApps,\n              //       addfollowerPost,\n              //       addMyApps } = props\n                   // if(results.result === true){ \n               //   let {user, my_apps} = results\n               //   userLogin(user)\n              //   addMyApps(my_apps);\n                   //   props.onClose()\n              //   onToast(\"info\", `Welcome to banlist.info`)\n              // }else{\n              //   onToast(\"error\", results.message)\n              // }\n                   // setLoginLoading(false)\n              \n               setLoginLoading(false)\n                   console.log('/login > results : ', results)\n            })\n            .catch((error)=>{\n              console.log('/login > results : ', error)\n              onToast(\"error\", error)\n              setLoginLoading(false)\n            });\n            */\n          }\n\n          break;\n        }\n\n      case 'register':\n        {\n          let _displayName = displayName.trim();\n\n          let _email = email.trim();\n\n          let _password = password.trim();\n\n          if (isEmpty(_displayName) && isEmpty(_email) && isEmpty(_password)) {\n            onToast(\"error\", \"Display name & Email & password is empty.\");\n          } else if (isEmpty(_displayName)) {\n            onToast(\"error\", \"Display name is empty.\");\n          } else if (isEmpty(_email)) {\n            onToast(\"error\", \"Email is empty.\");\n          } else if (isEmpty(_password)) {\n            onToast(\"error\", \"Password is empty.\");\n          } else if (!isEmailValid(_email)) {\n            onToast(\"error\", \"Email is Invalid.\");\n          } else {\n            // props.onClose()\n\n            /*\n            setRegisterLoading(true)\n            axios.post(`/api/v1/login`, {\n              type: 0,\n              name: _displayName,\n              email: _email, \n              password: _password,\n            })\n            .then((response) => {\n              let results = response.data\n              if(results.result === true){ \n                onToast(\"info\", `Please check email.`)\n              }else{\n                onToast(\"error\", results.message)\n              }\n               props.onClose()\n                   setRegisterLoading(false)\n                   console.log('/register > results : ', results)\n            })\n            .catch((error)=>{\n              onToast(\"error\", error)\n              setRegisterLoading(false)\n            });\n             */\n            setRegisterLoading(true);\n            console.log('/api/v1/register > start');\n            let response = await axios.post(`/api/v1/register`, {\n              email: _email,\n              name: _displayName,\n              password: _password\n            }, {\n              headers: {\n                'Authorization': `Basic ${process.env.REACT_APP_AUTHORIZATION}`\n              }\n            });\n            console.log('/api/v1/register > response : ', response);\n            response = response.data; // setLoginLoading(false)\n\n            if (response.result) {\n              setMode('login');\n              onToast(\"info\", `Register success`);\n            } else {\n              onToast(\"error\", response.message);\n            }\n\n            setRegisterLoading(false);\n          }\n\n          break;\n        }\n\n      case 'forgot':\n        {\n          let _email = email.trim();\n\n          if (isEmpty(_email)) {\n            onToast(\"error\", \"Email is empty.\");\n          } else if (!isEmailValid(_email)) {\n            onToast(\"error\", \"Email is Invalid.\");\n          } else {\n            /*\n            setForgotLoading(true)\n            axios.post(`/api/v1/reset_password`, {\n              email: _email\n            })\n            .then((response) => {\n              let results = response.data\n              if(results.result === true){ \n                onToast(\"info\", `Please check email.`)\n              }else{\n                onToast(\"error\", results.message)\n              }\n               props.onClose()\n                   setForgotLoading(false)\n            })\n            .catch((error)=>{\n              onToast(\"error\", error)\n              setForgotLoading(false)\n            });\n            */\n            setForgotLoading(true);\n            console.log('/api/v1/reset_password > start');\n            let response = await axios.post(`/api/v1/reset_password`, {\n              email: _email\n            }, {\n              headers: {\n                'Authorization': `Basic ${process.env.REACT_APP_AUTHORIZATION}`\n              }\n            });\n            console.log('/api/v1/reset_password > response : ', response);\n            response = response.data;\n            setForgotLoading(false);\n          }\n\n          break;\n        }\n    }\n  };\n\n  const responseGoogle = response => {\n    console.log(\"responseGoogle :\", response);\n  };\n\n  const responseFacebook = response => {\n    console.log(\"responseFacebook :\", response);\n  };\n\n  const clickedFacebook = () => {\n    console.log(\"clickedFacebook\");\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(Modal, {\n      show: showModal,\n      onHide: props.onClose,\n      onSubmit: handleFormSubmit //   bsSize=\"large\"\n      ,\n      backdrop: \"static\",\n      children: [/*#__PURE__*/_jsxDEV(Modal.Header, {\n        closeButton: true,\n        children: /*#__PURE__*/_jsxDEV(\"h2\", {\n          children: mode === \"login\" ? \"Login\" : mode === \"register\" ? \"Create new account\" : \"Forgot password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 556,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 555,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Modal.Body, {\n        children: contentBody()\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 558,\n        columnNumber: 9\n      }, this), contentFooter()]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 549,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 548,\n    columnNumber: 5\n  }, this);\n};\n\n_s(LoginDialog, \"G9x08DsixOlbZw12IVr9jkkS1f8=\");\n\n_c = LoginDialog;\n\nconst mapStateToProps = (state, ownProps) => {\n  return {\n    user: state.user.data,\n    data: state.app.data\n  };\n};\n\nconst mapDispatchToProps = {\n  userLogin,\n  ___followUp,\n  fetchMyApps,\n  addfollowerPost,\n  addMyAppALL,\n  addContentsData,\n  addFollowsData\n};\nexport default connect(mapStateToProps, mapDispatchToProps)(LoginDialog);\n\nvar _c;\n\n$RefreshReg$(_c, \"LoginDialog\");","map":{"version":3,"sources":["/app/src/pages/LoginDialog.js"],"names":["React","Component","isValidElement","useEffect","useRef","Modal","Button","connect","GoogleLogin","FacebookLogin","CircularProgress","axios","toast","ls","isEmailValid","uniqueId","onToast","isEmpty","PasswordField","userLogin","___followUp","fetchMyApps","addfollowerPost","addMyAppALL","addContentsData","addFollowsData","LoginDialog","props","displayName","setDisplayName","useState","email","setEmail","password","setPassword","mode","setMode","showModal","setShowModal","error","setError","errorMessages","setErrorMessages","loginLoading","setLoginLoading","loadingFacebook","setLoadingFacebook","loadingGoogle","setLoadingGoogle","registerLoading","setRegisterLoading","forgotLoading","setForgotLoading","setLogoutLoading","contentBody","e","target","value","preventDefault","cursor","contentFooter","onClose","handleFormSubmit","formSubmitEvent","console","log","_email","trim","_password","response","post","headers","process","env","REACT_APP_AUTHORIZATION","data","result","basic_auth","session","user","contents","follows","set","message","_displayName","name","responseGoogle","responseFacebook","clickedFacebook","mapStateToProps","state","ownProps","app","mapDispatchToProps"],"mappings":"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","sourcesContent":["import React, { Component, isValidElement, useEffect, useRef } from \"react\";\n\nimport { Modal, Button } from \"react-bootstrap\";\nimport { connect } from 'react-redux'\nimport GoogleLogin from 'react-google-login';\nimport FacebookLogin from 'react-facebook-login';\nimport { CircularProgress } from '@material-ui/core';\nimport axios from 'axios';\nimport { toast } from 'react-toastify';\nimport ls from 'local-storage';\n\nimport { isEmailValid, uniqueId, onToast, isEmpty } from \"../utils\"\nimport PasswordField from \"../components/PasswordField\";\nimport { userLogin, ___followUp, fetchMyApps, addfollowerPost } from '../actions/user';\n\n// import { addMyApp } from '../actions/my_apps';\n\nimport { addMyAppALL } from '../actions/my_apps';\n\nimport { addContentsData, addFollowsData } from '../actions/app';\n\nconst LoginDialog = (props) => {\n  const [displayName, setDisplayName] = React.useState(\"\");\n  const [email, setEmail] = React.useState(\"\");\n  const [password, setPassword] = React.useState(\"\");\n  const [mode, setMode] = React.useState(\"login\");\n  const [showModal, setShowModal] = React.useState(false);\n  const [error, setError] = React.useState(false);\n  const [errorMessages, setErrorMessages] = React.useState([]);\n  const [loginLoading, setLoginLoading] = React.useState(false);\n  const [loadingFacebook, setLoadingFacebook] = React.useState(false);\n  const [loadingGoogle, setLoadingGoogle] = React.useState(false);\n\n  const [registerLoading, setRegisterLoading] = React.useState(false);\n  const [forgotLoading, setForgotLoading] = React.useState(false);\n\n  // loadingEP\n  // const [updateLoading, setUpdateLoading] = React.useState(false);\n\n  useEffect(() => {\n    setShowModal(false)\n\n    return () => {\n      setShowModal()\n      setLogoutLoading()\n    };\n  }, []);\n\n  useEffect(() => {\n    setShowModal(props.showModal)\n  }, [props.showModal]);\n\n  const contentBody = () =>{\n    switch(mode){\n      case 'login':{\n        return (\n          <div>\n              <form className=\"form-horizontal form-loanable\">\n                <fieldset>\n                  <div className=\"form-group has-feedback required\">\n                    <label htmlFor=\"login-email\" className=\"col-sm-5\">Username or email</label>\n                    <div className=\"col-sm-12\">\n                      <span className=\"form-control-feedback\" aria-hidden=\"true\"></span>\n                      <input\n                        type=\"text\"\n                        name=\"email\"\n                        id=\"login-email\"\n                        className=\"form-control\"\n                        placeholder=\"Enter username or email\"\n                        value={email}\n                        onChange={(e)=>{\n                          setEmail(e.target.value)\n                        }}\n                      />\n                    </div>\n                  </div>\n                  <div className=\"form-group has-feedback required\">\n                    <PasswordField \n                      label=\"Password\"\n                      placeholder=\"*****\"\n                      value={password}  \n                      onChange={(e)=>{ setPassword(e.target.value) }}/>\n                  </div>\n                  <div className=\"col-sm-12\">\n                    <a href=\"#\" onClick={e => { e.preventDefault(); setMode(\"forgot\");  }}> Forgot password</a>|\n                    <a href=\"#\" onClick={e => { e.preventDefault(); setMode(\"register\");  }}> Create new account</a>\n                  </div>\n                </fieldset>\n                {/* <div className=\"form-action\" class=\"col-sm-12\">\n                  <button\n                    type=\"submit\"\n                    disabled={ (isEmpty(email) && isEmpty(password)) ? true: false }\n                    className={\"div-button\"} >Login\n                    { loginLoading && <CircularProgress size={15}/> }\n                  </button>    \n                  <GoogleLogin\n                    clientId=\"693724870615-2hkmknke3sj6puo9c88nk67ouuu9m8l1.apps.googleusercontent.com\"\n                    buttonText=\"Login\"\n                    onSuccess={responseGoogle}\n                    onFailure={responseGoogle}\n                    cookiePolicy={'single_host_origin'}\n                  />\n    \n                  <FacebookLogin\n                    appId=\"1088597931155576\"\n                    // autoLoad={true}\n                    fields=\"name,email,picture\"\n                    onClick={()=>{\n                      clickedFacebook()\n                    }}\n                    callback={(response)=>{\n                      this.responseFacebook(response)\n                    }} />\n                </div> */}\n              </form>\n           \n          </div>\n        );\n      }\n\n      case 'register':{\n        return (\n          <div>\n            <div>\n              <form className=\"form-horizontal form-loanable\">\n                <fieldset>\n                  <div className=\"form-group has-feedback required\">\n                    <label htmlFor=\"login-email\" className=\"col-sm-5\">Display name</label>\n                    <div className=\"col-sm-12\">\n                      <span className=\"form-control-feedback\" aria-hidden=\"true\"></span>\n                      <input\n                        type=\"text\"\n                        name=\"name\"\n                        id=\"name\"\n                        className=\"form-control\"\n                        placeholder=\"Enter display name\"\n                        value={displayName}\n                        onChange={(e)=>{\n                          setDisplayName(e.target.value)\n                        }}\n                      />\n                    </div>\n                  </div>\n                  <div className=\"form-group has-feedback required\">\n                    <label htmlFor=\"login-email\" className=\"col-sm-5\">Email address</label>\n                    <div className=\"col-sm-12\">\n                      <span className=\"form-control-feedback\" aria-hidden=\"true\"></span>\n                      <input\n                        type=\"text\"\n                        name=\"email\"\n                        id=\"email\"\n                        className=\"form-control\"\n                        placeholder=\"Enter email address\"\n                        value={email}\n                        onChange={(e)=>{\n                          setEmail(e.target.value)\n                        }}\n                      />\n                    </div>\n                  </div>\n                  <div className=\"form-group has-feedback required\">\n                    <label htmlFor=\"login-password\" className=\"col-sm-5\">Password</label>\n                    <div className=\"col-sm-12\">\n                      <span className=\"form-control-feedback\" aria-hidden=\"true\"></span>\n                      <div className=\"login-password-wrapper\">\n                        <input\n                          type=\"password\"\n                          name=\"password\"\n                          id=\"password\"\n                          className=\"form-control\"\n                          placeholder=\"*****\"\n                          value={password}\n                          onChange={(e)=>{\n                            setPassword(e.target.value)\n                          }}\n                        />\n                      </div>\n                    </div>\n                  </div>\n                </fieldset>\n                {/* <div className=\"form-action\" className=\"col-sm-12\">\n                  <button\n                    type=\"submit\"\n                    disabled={ (isEmpty(displayName) && isEmpty(email) && isEmpty(password)) ? true: false }\n                    className={\"div-button\"} >Register \n                    { registerLoading && <CircularProgress size={15}/> }\n                    </button>\n                </div> */}\n              </form>\n            </div>\n            <div className=\"col-sm-12\">\n              <span \n                style={{cursor:'pointer'}} \n                className={\"span-border-bottom \"}\n                onClick={ (e) => {\n                  setMode(\"login\")\n                }} >\n                Back to login\n              </span>\n            </div>\n          </div>\n        );\n      }\n\n      case 'forgot':{\n        return(\n          <div>\n            <form className=\"form-horizontal form-loanable\">\n              <div className=\"col-sm-12\">\n                <span className=\"form-control-feedback\" aria-hidden=\"true\">Email address</span>\n                <input\n                  type=\"text\"\n                  name=\"email\"\n                  id=\"email\"\n                  className=\"form-control\"\n                  placeholder=\"Enter email address\"\n                  value={email}\n                  onChange={(e)=>{\n                    setEmail(e.target.value)\n                  }}\n                />\n            </div>\n              {/* <div className=\"form-action\" className=\"col-sm-12\">\n                <button\n                  type=\"submit\"\n                  disabled={ isEmpty(email) ? true: false }\n                  className={\"div-button\"} >Send \n                  { forgotLoading && <CircularProgress size={15}/> }\n                </button>\n              </div> */}\n              <div className=\"col-sm-12\">\n                <span \n                style={{cursor:'pointer'}} \n                className={\"span-border-bottom \"}\n                onClick={ (e) => {\n                  setMode(\"login\")\n                }} >\n                Back to login\n              </span>\n              </div>\n            </form>\n          </div>\n        );\n      }\n    }\n  }\n\n  const contentFooter = () =>{\n    switch(mode){\n      case 'login':{\n\n        return  <Modal.Footer>\n                  <Button variant=\"secondary\" onClick={()=>props.onClose()}>Close</Button>\n                  <Button variant=\"primary\" onClick={handleFormSubmit} >Login  { loginLoading && <CircularProgress size={15}/> }</Button>\n                </Modal.Footer> \n\n                /*\n        return  <div>\n                  <button\n                    type=\"submit\"\n                    onClick={handleFormSubmit}\n                    disabled={ (isEmpty(email) && isEmpty(password)) ? true: false }\n                    className={\"div-button\"} >Login\n                    { loginLoading && <CircularProgress size={15}/> }\n                  </button>    \n                  <GoogleLogin\n                    clientId=\"693724870615-2hkmknke3sj6puo9c88nk67ouuu9m8l1.apps.googleusercontent.com\"\n                    buttonText=\"Login\"\n                    onSuccess={responseGoogle}\n                    onFailure={responseGoogle}\n                    cookiePolicy={'single_host_origin'}\n                  />\n\n                  <FacebookLogin\n                    appId=\"1088597931155576\"\n                    // autoLoad={true}\n                    fields=\"name,email,picture\"\n                    onClick={()=>{\n                      clickedFacebook()\n                    }}\n                    callback={(response)=>{\n                      this.responseFacebook(response)\n                    }} />\n                </div>\n                */\n      }\n\n      case 'register':{\n\n        return  <Modal.Footer>\n                  <Button variant=\"secondary\" onClick={()=>props.onClose()}>Close</Button>\n                  <Button variant=\"primary\" onClick={handleFormSubmit} >Register { registerLoading && <CircularProgress size={15}/> }</Button>\n                </Modal.Footer> \n\n        // return  <div className=\"form-action\" className=\"col-sm-12\">\n        //           <button\n        //             type=\"submit\"\n        //             disabled={ (isEmpty(displayName) && isEmpty(email) && isEmpty(password)) ? true: false }\n        //             className={\"div-button\"} >Register \n        //             { registerLoading && <CircularProgress size={15}/> }\n        //             </button>\n        //         </div>\n      }\n\n      case 'forgot':{\n        return  <Modal.Footer>\n                  <Button variant=\"secondary\" onClick={()=>props.onClose()}>Close</Button>\n                  <Button variant=\"primary\" onClick={handleFormSubmit} >Send { forgotLoading && <CircularProgress size={15}/> }</Button>\n                </Modal.Footer> \n\n        // return<div className=\"form-action\" className=\"col-sm-12\">\n        //         <button\n        //           type=\"submit\"\n        //           disabled={ isEmpty(email) ? true: false }\n        //           className={\"div-button\"} >Send \n        //           { forgotLoading && <CircularProgress size={15}/> }\n        //         </button>\n        //       </div>\n      }\n    }\n  }\n\n  const handleFormSubmit = async (formSubmitEvent) => {\n    console.log(\"handleFormSubmit mode : \", mode);\n    formSubmitEvent.preventDefault();\n\n    switch(mode){\n      case 'login':{\n        let _email = email.trim()\n        let _password = password.trim()\n    \n        if(isEmpty(_email) && isEmpty(_password)){\n          onToast(\"error\", \"Email & password is empty.\")\n        }else if(isEmpty(_email)){\n          onToast(\"error\", \"Email is empty.\")\n        }else if(isEmpty(_password)){\n          onToast(\"error\", \"Password is empty.\")\n        } else {\n\n          setLoginLoading(true)\n          let response =  await axios.post(`/api/v1/login`, { email: _email,  password: _password,  }, { headers: {'Authorization': `Basic ${process.env.REACT_APP_AUTHORIZATION}`} });\n\n          response = response.data\n\n          console.log(\"/api/v1/login : response = xx \", response)\n\n          \n          if(response.result){\n            let { basic_auth, session, user, contents, follows } = response.data\n           \n            ls.set('basic_auth', basic_auth)\n            ls.set('session', session)\n\n            props.userLogin(user)\n            props.addContentsData(contents)\n            props.addFollowsData(follows)\n            \n            props.onClose()\n\n            console.log('/login > user : ', response.data)\n            onToast(\"info\", `Welcome to banlist.info cccc`)\n            \n          }else{\n            onToast(\"error\", response.message)\n          }\n\n          setLoginLoading(false)\n\n          /*\n          setLoginLoading(true)\n          axios.post(`/api/v1/login`, {\n            name: _email, \n            password: _password, \n            // unique_id: uniqueId()\n          })\n          .then((response) => {\n            let results = response.data\n    \n            \n            // let { userLogin,\n            //       ___followUp,\n            //       fetchMyApps,\n            //       addfollowerPost,\n            //       addMyApps } = props\n    \n            // if(results.result === true){ \n\n            //   let {user, my_apps} = results\n\n            //   userLogin(user)\n            //   addMyApps(my_apps);\n    \n            //   props.onClose()\n            //   onToast(\"info\", `Welcome to banlist.info`)\n            // }else{\n            //   onToast(\"error\", results.message)\n            // }\n    \n            // setLoginLoading(false)\n            \n\n            setLoginLoading(false)\n    \n            console.log('/login > results : ', results)\n          })\n          .catch((error)=>{\n            console.log('/login > results : ', error)\n            onToast(\"error\", error)\n            setLoginLoading(false)\n          });\n          */\n        }\n\n        break;\n      }\n\n      case 'register':{\n        let _displayName = displayName.trim()\n        let _email = email.trim()\n        let _password = password.trim()\n    \n        if(isEmpty(_displayName) && isEmpty(_email) && isEmpty(_password)){\n          onToast(\"error\", \"Display name & Email & password is empty.\")\n        }else if(isEmpty(_displayName)){\n          onToast(\"error\", \"Display name is empty.\")\n        }else if(isEmpty(_email)){\n          onToast(\"error\", \"Email is empty.\")\n        }else if(isEmpty(_password)){\n          onToast(\"error\", \"Password is empty.\")\n        }else if(!isEmailValid(_email)){\n          onToast(\"error\", \"Email is Invalid.\")\n        }else {\n          // props.onClose()\n        \n          /*\n          setRegisterLoading(true)\n          axios.post(`/api/v1/login`, {\n            type: 0,\n            name: _displayName,\n            email: _email, \n            password: _password,\n          })\n          .then((response) => {\n            let results = response.data\n            if(results.result === true){ \n              onToast(\"info\", `Please check email.`)\n            }else{\n              onToast(\"error\", results.message)\n            }\n\n            props.onClose()\n    \n            setRegisterLoading(false)\n    \n            console.log('/register > results : ', results)\n          })\n          .catch((error)=>{\n            onToast(\"error\", error)\n            setRegisterLoading(false)\n          });\n\n          */\n\n          setRegisterLoading(true)\n\n          console.log('/api/v1/register > start')\n          let response =  await axios.post(`/api/v1/register`, { email: _email, name: _displayName, password: _password,  }, { headers: {'Authorization': `Basic ${process.env.REACT_APP_AUTHORIZATION}`} });\n\n          console.log('/api/v1/register > response : ', response)\n          response = response.data\n\n          // setLoginLoading(false)\n          if(response.result){\n           \n            setMode('login');\n            \n            onToast(\"info\", `Register success`)\n          }else{\n            onToast(\"error\", response.message)\n          }\n\n          setRegisterLoading(false)\n        \n        }\n        break;\n      }\n\n      case 'forgot':{\n        let _email = email.trim()\n        if(isEmpty(_email)){\n          onToast(\"error\", \"Email is empty.\")\n        }else if(!isEmailValid(_email)){\n          onToast(\"error\", \"Email is Invalid.\")\n        }else {\n\n          /*\n          setForgotLoading(true)\n          axios.post(`/api/v1/reset_password`, {\n            email: _email\n          })\n          .then((response) => {\n            let results = response.data\n            if(results.result === true){ \n              onToast(\"info\", `Please check email.`)\n            }else{\n              onToast(\"error\", results.message)\n            }\n\n            props.onClose()\n    \n            setForgotLoading(false)\n          })\n          .catch((error)=>{\n            onToast(\"error\", error)\n            setForgotLoading(false)\n          });\n          */\n\n          setForgotLoading(true)\n          console.log('/api/v1/reset_password > start')\n          let response =  await axios.post(`/api/v1/reset_password`, { email: _email }, { headers: {'Authorization': `Basic ${process.env.REACT_APP_AUTHORIZATION}`} });\n\n          console.log('/api/v1/reset_password > response : ', response)\n          response = response.data\n\n          setForgotLoading(false)\n        }\n        break;\n      }\n    }\n\n   \n  }\n\n  const  responseGoogle = (response) => {\n    console.log(\"responseGoogle :\", response);\n  }\n\n  const responseFacebook = (response) => {\n    console.log(\"responseFacebook :\", response);\n  }\n\n  const clickedFacebook = () =>{\n    console.log(\"clickedFacebook\");\n  }\n\n  return (\n    <div>\n      <Modal\n        show={showModal}\n        onHide={props.onClose}\n        onSubmit={handleFormSubmit}\n        //   bsSize=\"large\"\n        backdrop=\"static\">\n        <Modal.Header closeButton={true}>\n          <h2>{ mode === \"login\" ? \"Login\" : mode === \"register\" ? \"Create new account\" : \"Forgot password\" }</h2>\n        </Modal.Header>\n        <Modal.Body>\n          {contentBody()}\n        </Modal.Body>\n\n        {contentFooter()}\n      \n      </Modal>\n    </div>\n  )\n}\n\nconst mapStateToProps = (state, ownProps) => {\n\treturn {\n    user: state.user.data,\n    data: state.app.data,\n  };\n}\n\nconst mapDispatchToProps = {\n  userLogin,\n  ___followUp,\n  fetchMyApps,\n  addfollowerPost,\n\n\n  addMyAppALL,\n\n  addContentsData,\n  addFollowsData\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(LoginDialog)\n"]},"metadata":{},"sourceType":"module"}