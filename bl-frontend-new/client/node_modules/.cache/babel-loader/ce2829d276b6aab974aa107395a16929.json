{"ast":null,"code":"var _jsxFileName = \"/app/src/pages/RegisterPage.js\";\nimport React, { Component } from 'react';\nimport { Redirect, Link } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport Form from 'react-bootstrap/Form';\nimport Button from 'react-bootstrap/Button';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass RegisterPage extends Component {\n  constructor(props) {\n    super(props);\n\n    this.submitForm = async e => {\n      e.preventDefault();\n      console.log('submitForm');\n      const {\n        user,\n        pass\n      } = this.state;\n\n      if (user.trim() == \"\" && pass.trim() == \"\") {\n        this.setState({\n          error: true,\n          error_message: \"Username && Pass is empty.\"\n        });\n      } else if (user.trim() == \"\") {\n        this.setState({\n          error: true,\n          error_message: \"Username is empty.\"\n        });\n      } else if (pass.trim() == \"\") {\n        this.setState({\n          error: true,\n          error_message: \"Password is empty.\"\n        });\n      } // let response  = await axios.post('/api/login', \n      //                     {name: email, pass: password}, \n      //                     {headers:headers()});\n      // const response = await fetch('/api/register', {\n      //   method: 'POST',\n      //   headers: {\n      //     'Content-Type': 'application/json',\n      //   },\n      //   body: JSON.stringify({ name:user, pass}),\n      // });\n      // let body = await response.text();\n      // body = JSON.parse(body);\n      // if(!body.result){\n      //   console.log(body.message);\n      // }else{\n      //   let data = body.data;\n      //   console.log(data);\n      //   this.props.userLogin(data);\n      // }\n      // if(username === \"admin\" && password === \"admin\") {\n      //   ls.set(\"token\", \"56@cysXs\");\n      //   this.setState({\n      //     loggedIn: true\n      //   });\n      // } else {\n      //   return <p>Invalid Creds</p>\n      // }\n      // this.props.userLogin('username', 'password');\n      // this.props.addTodo('4');\n\n      /*\n      const params = {\n        name: username,\n        pass: password\n      };\n      const headers = {\n        'Content-Type': 'application/json'\n      };\n      axios.post(\"http://localhost/api/login.json\",{ params }, {headers})\n      .then(res => {\n        console.log(res);\n        // console.log(res.data);\n      })\n      .catch(function (error) {\n        console.log(error);\n      });\n      */\n\n    };\n\n    this.handleSubmit = event => {\n      const form = event.currentTarget;\n\n      if (form.checkValidity() === false) {\n        event.preventDefault();\n        event.stopPropagation();\n        this.setState({\n          validated: true\n        });\n      }\n\n      let {\n        email,\n        password\n      } = this.state;\n      console.log(email);\n      console.log(password);\n    };\n\n    this.state = {\n      validated: false,\n      name: '',\n      email: '',\n      password: '',\n      error: false,\n      error_message: ''\n    };\n    this.onChange = this.onChange.bind(this);\n    this.submitForm = this.submitForm.bind(this);\n    this.handleChange = this.handleChange.bind(this);\n  }\n\n  componentDidMount() {// this.callApi()\n    //   .then(res => console.log(res.express) )\n    //   .catch(err => console.log(err));\n  }\n\n  handleChange(event) {\n    this.setState({\n      [event.target.id]: event.target.value\n    });\n  }\n\n  onChange(e) {\n    this.setState({\n      [e.target.name]: e.target.value\n    });\n  } // callApi = async () => {\n  //   const response = await fetch('/api/hello');\n  //   const body = await response.json();\n  //   if (response.status !== 200) throw Error(body.message);\n  //   return body;\n  // };\n  // submitForm(e) {\n\n\n  nextPath(path) {\n    this.props.history.push(path);\n  }\n\n  render() {\n    let {\n      validated,\n      name,\n      email,\n      password\n    } = this.state;\n\n    if (this.props.loggedIn) {\n      return /*#__PURE__*/_jsxDEV(Redirect, {\n        to: \"/\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 14\n      }, this);\n    }\n\n    return /*#__PURE__*/_jsxDEV(Form, {\n      noValidate: true,\n      validated: validated,\n      onSubmit: this.handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(Form.Group, {\n        controlId: \"name\",\n        children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n          children: \"\\u0E0A\\u0E37\\u0E48\\u0E2D\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 156,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n          type: \"text\",\n          placeholder: \"\\u0E0A\\u0E37\\u0E48\\u0E2D\",\n          required: true,\n          value: name,\n          onChange: this.handleChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 157,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(Form.Control.Feedback, {\n          type: \"invalid\",\n          children: \"\\u0E01\\u0E23\\u0E38\\u0E13\\u0E32\\u0E01\\u0E23\\u0E2D\\u0E1A\\u0E0A\\u0E37\\u0E48\\u0E2D.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 162,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 14\n      }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n        controlId: \"email\",\n        children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n          children: \"\\u0E2D\\u0E35\\u0E40\\u0E21\\u0E25\\u0E25\\u0E4C\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 167,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n          type: \"email\",\n          placeholder: \"\\u0E2D\\u0E35\\u0E40\\u0E21\\u0E25\\u0E25\\u0E4C\",\n          required: true,\n          value: email,\n          onChange: this.handleChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 168,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(Form.Control.Feedback, {\n          type: \"invalid\",\n          children: \"\\u0E01\\u0E23\\u0E38\\u0E13\\u0E32\\u0E01\\u0E23\\u0E2D\\u0E1A\\u0E2D\\u0E35\\u0E40\\u0E21\\u0E25\\u0E25\\u0E4C \\u0E2B\\u0E23\\u0E37\\u0E2D invalid email address.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 173,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 15\n      }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n        controlId: \"password\",\n        children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n          children: \"\\u0E23\\u0E2B\\u0E31\\u0E2A\\u0E1C\\u0E48\\u0E32\\u0E19\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 178,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n          type: \"password\",\n          placeholder: \"\\u0E23\\u0E2B\\u0E31\\u0E2A\\u0E1C\\u0E48\\u0E32\\u0E19\",\n          required: true,\n          value: password,\n          onChange: this.handleChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 179,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(Form.Control.Feedback, {\n          type: \"invalid\",\n          children: \"\\u0E01\\u0E23\\u0E38\\u0E13\\u0E32\\u0E01\\u0E23\\u0E2D\\u0E1A\\u0E23\\u0E2B\\u0E31\\u0E2A\\u0E1C\\u0E48\\u0E32\\u0E19.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 184,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 15\n      }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n        controlId: \"password_confirm\",\n        children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n          children: \"\\u0E22\\u0E37\\u0E19\\u0E22\\u0E31\\u0E19\\u0E23\\u0E2B\\u0E31\\u0E2A\\u0E1C\\u0E48\\u0E32\\u0E19\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 189,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n          type: \"password\",\n          placeholder: \"\\u0E22\\u0E37\\u0E19\\u0E22\\u0E31\\u0E19\\u0E23\\u0E2B\\u0E31\\u0E2A\\u0E1C\\u0E48\\u0E32\\u0E19\",\n          required: true,\n          value: password,\n          onChange: this.handleChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 190,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(Form.Control.Feedback, {\n          type: \"invalid\",\n          children: \"\\u0E01\\u0E23\\u0E38\\u0E13\\u0E32\\u0E01\\u0E23\\u0E2D\\u0E1A\\u0E22\\u0E37\\u0E19\\u0E22\\u0E31\\u0E19\\u0E23\\u0E2B\\u0E31\\u0E2A\\u0E1C\\u0E48\\u0E32\\u0E19.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 195,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 188,\n        columnNumber: 15\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        variant: \"primary\",\n        type: \"submit\",\n        children: \"\\u0E2A\\u0E21\\u0E31\\u0E04\\u0E23\\u0E2A\\u0E21\\u0E32\\u0E0A\\u0E34\\u0E01\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 199,\n        columnNumber: 15\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\n;\n/*\n\tจะเป็น function ที่จะถูกเรียกตลอดเมือ ข้อมูลเปลี่ยนแปลง\n\tเราสามารถดึงข้อมูลทั้งหมดที่อยู่ใน redux ได้เลย\n*/\n\nconst mapStateToProps = (state, ownProps) => {\n  if (!state._persist.rehydrated) {\n    return {};\n  }\n\n  if (state.auth.isLoggedIn) {\n    return {\n      loggedIn: true\n    };\n  } else {\n    return {\n      loggedIn: false\n    };\n  }\n};\n/*\n\tการที่เราจะเรียก function ที่อยู่ใน actions ได้\n\tการใช้\n\tแบบที่ 1.\n\tconst mapDispatchToProps = (dispatch) => {\n\t\treturn {\n\t\t\tfunction1: (id) => {\n\t\t\t\t\t\t\t\t// function ที่อยู่ใน actions\n\t\t\t\t\t\t\t\tdispatch(addTodo(param1))\n\t\t\t\t\t\t\t},\n\t\t\tfunction2: (id, val) => {\n\t\t\t\t\t\t\t\t// function ที่อยู่ใน actions\n\t\t\t\t\t\t\t\tdispatch(addTodo(param1, param2))\n\t\t\t\t\t\t\t},\n\n\t\t}\n\t}\n\n\texport default connect(null, mapDispatchToProps)(function)\n\n\tแบบที่ 2.\n\texport default connect(null, { doFunction1, doFunction2 })(function)\n\n\tการเรียกใช้\n\tแบบที่ 1 \n\tthis.props.addTodo(param1, param2);\n\n\tแบบที่ 2\n\tlet {function1, function2} = this.props;\n*/\n// const mapDispatchToProps = (dispatch) => {\n// \treturn {\n//     userLogin: (data) =>{\n//       dispatch(userLogin(data))\n//     }\n// \t}\n// }\n\n\nexport default connect(mapStateToProps, null)(RegisterPage);","map":{"version":3,"sources":["/app/src/pages/RegisterPage.js"],"names":["React","Component","Redirect","Link","connect","Form","Button","RegisterPage","constructor","props","submitForm","e","preventDefault","console","log","user","pass","state","trim","setState","error","error_message","handleSubmit","event","form","currentTarget","checkValidity","stopPropagation","validated","email","password","name","onChange","bind","handleChange","componentDidMount","target","id","value","nextPath","path","history","push","render","loggedIn","mapStateToProps","ownProps","_persist","rehydrated","auth","isLoggedIn"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Redirect, Link} from 'react-router-dom';\n\nimport { connect } from 'react-redux'\n\nimport Form from 'react-bootstrap/Form'\nimport Button from 'react-bootstrap/Button'\n\nclass RegisterPage extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      validated: false,\n      name: '',\n      email: '',\n      password: '',\n\n      error: false,\n      error_message:'',\n    };\n\n    this.onChange = this.onChange.bind(this);\n    this.submitForm = this.submitForm.bind(this);\n\n    this.handleChange = this.handleChange.bind(this);\n  }\n\n  componentDidMount() {\n    // this.callApi()\n    //   .then(res => console.log(res.express) )\n    //   .catch(err => console.log(err));\n  }\n\n  handleChange(event) {\n    this.setState({[event.target.id]: event.target.value});\n  }    \n\n  onChange(e) {\n    this.setState({\n      [e.target.name]: e.target.value\n    });\n  }\n\n  // callApi = async () => {\n  //   const response = await fetch('/api/hello');\n  //   const body = await response.json();\n  //   if (response.status !== 200) throw Error(body.message);\n    \n  //   return body;\n  // };\n\n  // submitForm(e) {\n  submitForm = async e => {\n    e.preventDefault();\n    console.log('submitForm');\n    const { user, pass } = this.state;\n\n    if(user.trim() == \"\" && pass.trim() == \"\" ){\n      this.setState({\n        error: true,\n        error_message: \"Username && Pass is empty.\"\n          });\n    }else if(user.trim() == \"\"){\n      this.setState({\n        error: true,\n        error_message: \"Username is empty.\"\n          });\n    }else if(pass.trim() == \"\"){\n      this.setState({\n        error: true,\n        error_message: \"Password is empty.\"\n          });\n    }\n\n    // let response  = await axios.post('/api/login', \n    //                     {name: email, pass: password}, \n    //                     {headers:headers()});\n \n    // const response = await fetch('/api/register', {\n    //   method: 'POST',\n    //   headers: {\n    //     'Content-Type': 'application/json',\n    //   },\n    //   body: JSON.stringify({ name:user, pass}),\n    // });\n\n    // let body = await response.text();\n\n    // body = JSON.parse(body);\n    // if(!body.result){\n    //   console.log(body.message);\n    // }else{\n    //   let data = body.data;\n    //   console.log(data);\n\n    //   this.props.userLogin(data);\n    // }\n\n    // if(username === \"admin\" && password === \"admin\") {\n    //   ls.set(\"token\", \"56@cysXs\");\n    //   this.setState({\n    //     loggedIn: true\n    //   });\n    // } else {\n    //   return <p>Invalid Creds</p>\n    // }\n    // this.props.userLogin('username', 'password');\n    // this.props.addTodo('4');\n    /*\n    const params = {\n      name: username,\n      pass: password\n    };\n    const headers = {\n      'Content-Type': 'application/json'\n    };\n    axios.post(\"http://localhost/api/login.json\",{ params }, {headers})\n    .then(res => {\n      console.log(res);\n      // console.log(res.data);\n    })\n    .catch(function (error) {\n      console.log(error);\n    });\n    */\n  }\n\n  handleSubmit = (event) => {\n    const form = event.currentTarget;\n    if (form.checkValidity() === false) {\n      event.preventDefault();\n      event.stopPropagation();\n\n      this.setState({validated:true});\n    }\n    let { email, password } = this.state;\n\n    console.log(email);\n    console.log(password);\n  }\n\n  nextPath(path) {\n    this.props.history.push(path);\n  }\n\n  render(){\n    let {validated, name, email, password} = this.state;\n\n    if(this.props.loggedIn){\n      return <Redirect to=\"/\" />\n    }\n\n    return( <Form noValidate validated={validated} onSubmit={this.handleSubmit}>\n             <Form.Group controlId=\"name\">\n                <Form.Label>ชื่อ</Form.Label>\n                <Form.Control \n                    type=\"text\" \n                    placeholder=\"ชื่อ\" \n                    required \n                    value={name} onChange={this.handleChange}/>\n                <Form.Control.Feedback type=\"invalid\">\n                    กรุณากรอบชื่อ.\n                </Form.Control.Feedback>\n              </Form.Group>\n              <Form.Group controlId=\"email\">\n                <Form.Label>อีเมลล์</Form.Label>\n                <Form.Control \n                  type=\"email\" \n                  placeholder=\"อีเมลล์\" \n                  required \n                  value={email} onChange={this.handleChange}/>\n                <Form.Control.Feedback type=\"invalid\">\n                    กรุณากรอบอีเมลล์ หรือ invalid email address.\n                </Form.Control.Feedback>\n              </Form.Group>\n              <Form.Group controlId=\"password\">\n                <Form.Label>รหัสผ่าน</Form.Label>\n                <Form.Control \n                  type=\"password\" \n                  placeholder=\"รหัสผ่าน\" \n                  required\n                  value={password} onChange={this.handleChange}/>\n                <Form.Control.Feedback type=\"invalid\">\n                    กรุณากรอบรหัสผ่าน.\n                </Form.Control.Feedback>\n              </Form.Group>\n              <Form.Group controlId=\"password_confirm\">\n                <Form.Label>ยืนยันรหัสผ่าน</Form.Label>\n                <Form.Control \n                  type=\"password\" \n                  placeholder=\"ยืนยันรหัสผ่าน\" \n                  required\n                  value={password} onChange={this.handleChange}/>\n                <Form.Control.Feedback type=\"invalid\">\n                    กรุณากรอบยืนยันรหัสผ่าน.\n                </Form.Control.Feedback>\n              </Form.Group>\n              <Button variant=\"primary\" type=\"submit\">\n                สมัครสมาชิก\n              </Button>\n            </Form>\n    );\n  }\n};\n\n/*\n\tจะเป็น function ที่จะถูกเรียกตลอดเมือ ข้อมูลเปลี่ยนแปลง\n\tเราสามารถดึงข้อมูลทั้งหมดที่อยู่ใน redux ได้เลย\n*/\nconst mapStateToProps = (state, ownProps) => {\n\tif(!state._persist.rehydrated){\n\t\treturn {};\n  }\n  \n  if(state.auth.isLoggedIn){\n    return { loggedIn: true };\n  }else{\n    return { loggedIn: false };\n  }\n}\n\n/*\n\tการที่เราจะเรียก function ที่อยู่ใน actions ได้\n\tการใช้\n\tแบบที่ 1.\n\tconst mapDispatchToProps = (dispatch) => {\n\t\treturn {\n\t\t\tfunction1: (id) => {\n\t\t\t\t\t\t\t\t// function ที่อยู่ใน actions\n\t\t\t\t\t\t\t\tdispatch(addTodo(param1))\n\t\t\t\t\t\t\t},\n\t\t\tfunction2: (id, val) => {\n\t\t\t\t\t\t\t\t// function ที่อยู่ใน actions\n\t\t\t\t\t\t\t\tdispatch(addTodo(param1, param2))\n\t\t\t\t\t\t\t},\n\n\t\t}\n\t}\n\n\texport default connect(null, mapDispatchToProps)(function)\n\n\tแบบที่ 2.\n\texport default connect(null, { doFunction1, doFunction2 })(function)\n\n\tการเรียกใช้\n\tแบบที่ 1 \n\tthis.props.addTodo(param1, param2);\n\n\tแบบที่ 2\n\tlet {function1, function2} = this.props;\n*/\n// const mapDispatchToProps = (dispatch) => {\n// \treturn {\n//     userLogin: (data) =>{\n//       dispatch(userLogin(data))\n//     }\n// \t}\n// }\n\nexport default connect(mapStateToProps, null)(RegisterPage)"]},"metadata":{},"sourceType":"module"}