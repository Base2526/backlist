{"ast":null,"code":"import Ajv from \"ajv\";\nimport { USER_LOGIN, USER_LOGOUT, FETCH_PROFILE, FOLLOW_UP, ___FOLLOW_UP, FETCH_MY_APPS, ADD_HISTORY, DELETE_HISTORY, ADD_FOLLOWER_POST, FOLLOWER_POST, NET_INFO, NOTIFICATIONS, LOADING_OVERLAY, CLEAR_CACHED } from '../constants';\n\nconst _dataUserLogin = data => ({\n  type: USER_LOGIN,\n  data\n});\n\nconst _dataUserLogout = data => ({\n  type: USER_LOGOUT,\n  data\n});\n\nconst _fetchProfile = data => ({\n  type: FETCH_PROFILE,\n  data\n});\n\nconst _dataFollowup = data => ({\n  type: FOLLOW_UP,\n  data\n});\n/*\nMode\n 0 : single\n 1 : multi\n*/\n\n\nconst ___dataFollowup = (data, mode) => ({\n  type: ___FOLLOW_UP,\n  data,\n  mode\n});\n\nconst _fetchMyApps = data => ({\n  type: FETCH_MY_APPS,\n  data\n});\n\nconst _addHistory = data => ({\n  type: ADD_HISTORY,\n  data\n});\n\nconst _deleteHistory = data => ({\n  type: DELETE_HISTORY,\n  data\n}); // ADD_FOLLOWER_POST\n\n\nconst _addfollowerPost = data => ({\n  type: ADD_FOLLOWER_POST,\n  data\n}); // FOLLOWER_POST\n\n\nconst _followerPost = data => ({\n  type: FOLLOWER_POST,\n  data\n}); // NET_INFO\n\n\nconst _netInfo = data => ({\n  type: NET_INFO,\n  data\n});\n\nconst _notifications = data => ({\n  type: NOTIFICATIONS,\n  data\n});\n\nconst _loading_overlay = data => ({\n  type: LOADING_OVERLAY,\n  data\n}); // \n\n\nconst _clear_cached = data => ({\n  type: CLEAR_CACHED,\n  data\n});\n/*\naccount_name: \"phoswo\"\ndisplay_name: \"Phoswo\"\nemail: \"phoswo@example.com\"\ngender: \"30\"\nimage_url: \"http://frontend.banlist.info:8055/sites/default/files/pictures/2021-09/240959914_528400418251311_5122779305900211655_n.png\"\npass: \"177adf4afeacaed5a3c13e2578d9cf96:b33f5507e20bafb3a38a9ac87c9bd698\"\ntype_login: \"26\"\nuid: 60\n_id: \"614097d046ebea647663f6d4\"\n*/\n\n\nexport const userLogin = data => dispatch => {\n  const schema = {\n    type: \"object\",\n    properties: {\n      _id: {\n        type: \"string\"\n      },\n      uid: {\n        type: \"number\"\n      },\n      // display_name: {type: \"string\"},\n      // pass: {type: \"string\"},\n      email: {\n        type: \"string\"\n      },\n      // gender: {type: \"string\"},\n      // type_login: {type: \"string\"},\n      image_url: {\n        type: \"string\"\n      }\n    },\n    required: [\"email\"],\n    additionalProperties: false\n  };\n  const ajv = new Ajv();\n  const validate = ajv.compile(schema);\n  console.log(\"userLogin : >> \", data);\n\n  if (validate(data)) {\n    dispatch(_dataUserLogin(data));\n  } else {\n    console.log('Ajv invalid addContentsData : ', data);\n  }\n};\nexport const userLogout = () => dispatch => {\n  dispatch(_dataUserLogout({}));\n};\nexport const fetchProfile = basic_auth => dispatch => {// axios.post(`${API_URL}/api/fetch_profile?_format=json`, {}, {\n  //   headers: { \n  //     'Authorization': `Basic ${basic_auth}` \n  //   }\n  // })\n  // .then(function (response) {\n  //   let results = response.data\n  //   console.log('updateProfile : ', results)\n  //   if(results.result){\n  //     let {profile} = results\n  //     dispatch(_fetchProfile(profile));\n  //   }\n  // })\n  // .catch(function (error) {\n  //   console.log(error)\n  // });\n};\nexport const followUp = data => dispatch => {\n  dispatch({\n    type: FOLLOW_UP,\n    data\n  });\n};\nexport const ___followUp = (data, mode) => dispatch => {\n  dispatch(___dataFollowup(data, mode));\n}; // export const addMyApps = (data) => dispatch => {\n//   dispatch({ type: ADD_MY_APPS, data });\n// }\n\nexport const fetchMyApps = basic_auth => dispatch => {// axios.post(`${API_URL}/api/fetch_mypost?_format=json`, {}, {\n  //   headers: { \n  //     'Authorization': `Basic ${basic_auth}` \n  //   }\n  // })\n  // .then(function (response) {\n  //   let results = response.data\n  //   if(results.result){\n  //     let {datas} = results\n  //     dispatch(_fetchMyApps(datas.map(function (my_app) {return my_app.id})));\n  //   }\n  // })\n  // .catch(function (error) {\n  //   console.log(error)\n  // });\n};\nexport const addHistory = data => dispatch => {\n  dispatch(_addHistory(data));\n};\nexport const deleteHistory = data => dispatch => {\n  dispatch(_deleteHistory(data));\n};\nexport const addfollowerPost = data => dispatch => {\n  dispatch(_addfollowerPost(data));\n};\nexport const followerPost = data => dispatch => {\n  dispatch(_followerPost(data));\n};\nexport const netInfo = data => dispatch => {\n  dispatch(_netInfo(data));\n};\nexport const onNotifications = data => dispatch => {\n  dispatch(_notifications(data));\n}; // const _loading_overlay = data => ({\n//   type: LOADING_OVERLAY,\n//   data,\n// });\n\nexport const loadingOverlay = data => dispatch => {\n  dispatch(_loading_overlay(data));\n};\nexport const clearCached = data => dispatch => {\n  dispatch(_clear_cached(data));\n};","map":{"version":3,"sources":["/app/src/actions/user.js"],"names":["Ajv","USER_LOGIN","USER_LOGOUT","FETCH_PROFILE","FOLLOW_UP","___FOLLOW_UP","FETCH_MY_APPS","ADD_HISTORY","DELETE_HISTORY","ADD_FOLLOWER_POST","FOLLOWER_POST","NET_INFO","NOTIFICATIONS","LOADING_OVERLAY","CLEAR_CACHED","_dataUserLogin","data","type","_dataUserLogout","_fetchProfile","_dataFollowup","___dataFollowup","mode","_fetchMyApps","_addHistory","_deleteHistory","_addfollowerPost","_followerPost","_netInfo","_notifications","_loading_overlay","_clear_cached","userLogin","dispatch","schema","properties","_id","uid","email","image_url","required","additionalProperties","ajv","validate","compile","console","log","userLogout","fetchProfile","basic_auth","followUp","___followUp","fetchMyApps","addHistory","deleteHistory","addfollowerPost","followerPost","netInfo","onNotifications","loadingOverlay","clearCached"],"mappings":"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","sourcesContent":["import Ajv from \"ajv\"\nimport { USER_LOGIN, USER_LOGOUT, FETCH_PROFILE, \n         FOLLOW_UP, ___FOLLOW_UP, FETCH_MY_APPS, ADD_HISTORY, \n         DELETE_HISTORY, ADD_FOLLOWER_POST, FOLLOWER_POST ,\n        \n         NET_INFO, NOTIFICATIONS,\n         LOADING_OVERLAY, CLEAR_CACHED} from '../constants';\n\n\nconst _dataUserLogin = data => ({\n  type: USER_LOGIN,\n  data,\n});\n\nconst _dataUserLogout = data => ({\n  type: USER_LOGOUT,\n  data,\n});\n\nconst _fetchProfile = data => ({\n  type: FETCH_PROFILE,\n  data,\n});\n\nconst _dataFollowup = data => ({\n  type: FOLLOW_UP,\n  data,\n});\n\n\n/*\nMode\n 0 : single\n 1 : multi\n*/\nconst ___dataFollowup= (data, mode) => ({\n  type: ___FOLLOW_UP,\n  data,\n  mode\n});\n\nconst _fetchMyApps = data => ({\n  type: FETCH_MY_APPS,\n  data,\n});\n\nconst _addHistory = data => ({\n  type: ADD_HISTORY,\n  data,\n});\n\nconst _deleteHistory = data => ({\n  type: DELETE_HISTORY,\n  data,\n});\n\n// ADD_FOLLOWER_POST\nconst _addfollowerPost = data => ({\n  type: ADD_FOLLOWER_POST,\n  data,\n});\n\n// FOLLOWER_POST\nconst _followerPost = data => ({\n  type: FOLLOWER_POST,\n  data,\n});\n\n// NET_INFO\nconst _netInfo = data => ({\n  type: NET_INFO,\n  data,\n});\n\n\nconst _notifications = data => ({\n  type: NOTIFICATIONS,\n  data,\n});\n\nconst _loading_overlay = data => ({\n  type: LOADING_OVERLAY,\n  data,\n});\n\n// \nconst _clear_cached = data => ({\n  type: CLEAR_CACHED,\n  data,\n});\n\n\n/*\naccount_name: \"phoswo\"\ndisplay_name: \"Phoswo\"\nemail: \"phoswo@example.com\"\ngender: \"30\"\nimage_url: \"http://frontend.banlist.info:8055/sites/default/files/pictures/2021-09/240959914_528400418251311_5122779305900211655_n.png\"\npass: \"177adf4afeacaed5a3c13e2578d9cf96:b33f5507e20bafb3a38a9ac87c9bd698\"\ntype_login: \"26\"\nuid: 60\n_id: \"614097d046ebea647663f6d4\"\n*/\nexport const userLogin = (data) => dispatch => {\n  const schema = {\n    type: \"object\",\n    properties: {\n      _id: {type: \"string\"},\n      uid: {type: \"number\"},\n      // display_name: {type: \"string\"},\n      // pass: {type: \"string\"},\n      email: {type: \"string\"},\n      // gender: {type: \"string\"},\n      // type_login: {type: \"string\"},\n      image_url: {type: \"string\"},\n    },\n    required: [\"email\" ],\n    additionalProperties: false,\n  }\n  const ajv = new Ajv() \n  const validate = ajv.compile(schema)\n  \n  console.log(\"userLogin : >> \", data )\n  if(validate(data)){\n    dispatch(_dataUserLogin(data));\n  }else{\n    console.log('Ajv invalid addContentsData : ', data)\n  }\n}\n\nexport const userLogout = () => dispatch => {\n  dispatch(_dataUserLogout({}))\n}\n\nexport const fetchProfile = (basic_auth) => dispatch =>{\n  // axios.post(`${API_URL}/api/fetch_profile?_format=json`, {}, {\n  //   headers: { \n  //     'Authorization': `Basic ${basic_auth}` \n  //   }\n  // })\n  // .then(function (response) {\n  //   let results = response.data\n\n  //   console.log('updateProfile : ', results)\n  //   if(results.result){\n  //     let {profile} = results\n  //     dispatch(_fetchProfile(profile));\n  //   }\n  // })\n  // .catch(function (error) {\n  //   console.log(error)\n  // });\n}\n\nexport const followUp = (data) => dispatch => {\n  dispatch({ type: FOLLOW_UP, data });\n}\n\nexport const ___followUp = (data, mode) => dispatch => {\n  dispatch(___dataFollowup(data, mode));\n}\n\n// export const addMyApps = (data) => dispatch => {\n//   dispatch({ type: ADD_MY_APPS, data });\n// }\n\nexport const fetchMyApps = (basic_auth) => dispatch => {\n  // axios.post(`${API_URL}/api/fetch_mypost?_format=json`, {}, {\n  //   headers: { \n  //     'Authorization': `Basic ${basic_auth}` \n  //   }\n  // })\n  // .then(function (response) {\n  //   let results = response.data\n  //   if(results.result){\n  //     let {datas} = results\n  //     dispatch(_fetchMyApps(datas.map(function (my_app) {return my_app.id})));\n  //   }\n  // })\n  // .catch(function (error) {\n  //   console.log(error)\n  // });\n}\n\nexport const addHistory = (data) => dispatch => {\n  dispatch(_addHistory(data));\n}\n\nexport const deleteHistory = (data) => dispatch => {\n  dispatch(_deleteHistory(data));\n}\n\nexport const addfollowerPost = (data) => dispatch => {\n  dispatch(_addfollowerPost(data));\n}\n\nexport const followerPost = (data) => dispatch => {\n  dispatch(_followerPost(data));\n}\n\nexport const netInfo = (data) => dispatch => {\n  dispatch(_netInfo(data));\n}\n\nexport const onNotifications = (data) => dispatch => {\n  dispatch(_notifications(data));\n}\n\n// const _loading_overlay = data => ({\n//   type: LOADING_OVERLAY,\n//   data,\n// });\nexport const loadingOverlay = (data) => dispatch => {\n  dispatch(_loading_overlay(data));\n}\n\nexport const clearCached = (data) => dispatch => {\n  dispatch(_clear_cached(data));\n}"]},"metadata":{},"sourceType":"module"}