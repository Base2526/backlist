{"ast":null,"code":"var _jsxFileName = \"/app/src/pages/Pagination.js\";\nimport React, { Component, Fragment } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst LEFT_PAGE = \"LEFT\";\nconst RIGHT_PAGE = \"RIGHT\";\n\nconst range = (from, to, step = 1) => {\n  let i = from;\n  const range = [];\n\n  while (i <= to) {\n    range.push(i);\n    i += step;\n  }\n\n  return range;\n};\n\nclass Pagination extends Component {\n  constructor(props) {\n    super(props);\n\n    this.gotoPage = page => {\n      const {\n        onPageChanged = f => f\n      } = this.props;\n      const currentPage = Math.max(0, Math.min(page, this.totalPages));\n      const paginationData = {\n        currentPage,\n        totalPages: this.totalPages,\n        pageLimit: this.pageLimit,\n        totalRecords: this.totalRecords\n      };\n      this.setState({\n        currentPage\n      }, () => onPageChanged(paginationData));\n    };\n\n    this.handleClick = (page, evt) => {\n      evt.preventDefault();\n      this.gotoPage(page);\n    };\n\n    this.handleMoveLeft = evt => {\n      evt.preventDefault();\n      this.gotoPage(this.state.currentPage - this.pageNeighbours * 2 - 1);\n    };\n\n    this.handleMoveRight = evt => {\n      evt.preventDefault();\n      this.gotoPage(this.state.currentPage + this.pageNeighbours * 2 + 1);\n    };\n\n    this.fetchPageNumbers = () => {\n      const totalPages = this.totalPages;\n      const currentPage = this.state.currentPage;\n      const pageNeighbours = this.pageNeighbours;\n      const totalNumbers = this.pageNeighbours * 2 + 3;\n      const totalBlocks = totalNumbers + 2;\n\n      if (totalPages > totalBlocks) {\n        let pages = [];\n        const leftBound = currentPage - pageNeighbours;\n        const rightBound = currentPage + pageNeighbours;\n        const beforeLastPage = totalPages - 1;\n        const startPage = leftBound > 2 ? leftBound : 2;\n        const endPage = rightBound < beforeLastPage ? rightBound : beforeLastPage;\n        pages = range(startPage, endPage);\n        const pagesCount = pages.length;\n        const singleSpillOffset = totalNumbers - pagesCount - 1;\n        const leftSpill = startPage > 2;\n        const rightSpill = endPage < beforeLastPage;\n        const leftSpillPage = LEFT_PAGE;\n        const rightSpillPage = RIGHT_PAGE;\n\n        if (leftSpill && !rightSpill) {\n          const extraPages = range(startPage - singleSpillOffset, startPage - 1);\n          pages = [leftSpillPage, ...extraPages, ...pages];\n        } else if (!leftSpill && rightSpill) {\n          const extraPages = range(endPage + 1, endPage + singleSpillOffset);\n          pages = [...pages, ...extraPages, rightSpillPage];\n        } else if (leftSpill && rightSpill) {\n          pages = [leftSpillPage, ...pages, rightSpillPage];\n        }\n\n        return [1, ...pages, totalPages];\n      }\n\n      return range(1, totalPages);\n    };\n\n    const {\n      totalRecords = null,\n      pageLimit = 30,\n      pageNeighbours: _pageNeighbours = 0\n    } = props;\n    this.pageLimit = typeof pageLimit === \"number\" ? pageLimit : 30;\n    this.totalRecords = typeof totalRecords === \"number\" ? totalRecords : 0;\n    this.pageNeighbours = typeof _pageNeighbours === \"number\" ? Math.max(0, Math.min(_pageNeighbours, 2)) : 0;\n    this.totalPages = Math.ceil(this.totalRecords / this.pageLimit);\n    this.state = {\n      currentPage: 1\n    };\n  }\n\n  componentDidMount() {\n    this.gotoPage(1);\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    let {\n      totalRecords,\n      pageLimit,\n      pageNeighbours\n    } = prevProps;\n\n    if (totalRecords !== this.totalRecords) {\n      this.pageLimit = typeof pageLimit === \"number\" ? pageLimit : 30;\n      this.totalRecords = typeof totalRecords === \"number\" ? totalRecords : 0;\n      this.pageNeighbours = typeof pageNeighbours === \"number\" ? Math.max(0, Math.min(pageNeighbours, 2)) : 0;\n      this.totalPages = Math.ceil(this.totalRecords / this.pageLimit); // this.state = { currentPage: 1 };\n      // this.setState({ currentPage: 1 })\n    }\n  }\n\n  render() {\n    if (!this.totalRecords) return null;\n    if (this.totalPages === 1) return null;\n    const {\n      currentPage\n    } = this.state;\n    const pages = this.fetchPageNumbers();\n    return /*#__PURE__*/_jsxDEV(Fragment, {\n      children: /*#__PURE__*/_jsxDEV(\"nav\", {\n        \"aria-label\": \"Countries Pagination\",\n        children: /*#__PURE__*/_jsxDEV(\"ul\", {\n          className: \"pagination\",\n          children: pages.map((page, index) => {\n            if (page === LEFT_PAGE) return /*#__PURE__*/_jsxDEV(\"li\", {\n              className: \"page-item\",\n              children: /*#__PURE__*/_jsxDEV(\"a\", {\n                className: \"page-link\",\n                href: \"#\",\n                \"aria-label\": \"Previous\",\n                onClick: this.handleMoveLeft,\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  \"aria-hidden\": \"true\",\n                  children: \"\\xAB\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 159,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"sr-only\",\n                  children: \"Previous\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 160,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 153,\n                columnNumber: 21\n              }, this)\n            }, index, false, {\n              fileName: _jsxFileName,\n              lineNumber: 152,\n              columnNumber: 19\n            }, this);\n            if (page === RIGHT_PAGE) return /*#__PURE__*/_jsxDEV(\"li\", {\n              className: \"page-item\",\n              children: /*#__PURE__*/_jsxDEV(\"a\", {\n                className: \"page-link\",\n                href: \"#\",\n                \"aria-label\": \"Next\",\n                onClick: this.handleMoveRight,\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  \"aria-hidden\": \"true\",\n                  children: \"\\xBB\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 174,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"sr-only\",\n                  children: \"Next\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 175,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 168,\n                columnNumber: 21\n              }, this)\n            }, index, false, {\n              fileName: _jsxFileName,\n              lineNumber: 167,\n              columnNumber: 19\n            }, this);\n            return /*#__PURE__*/_jsxDEV(\"li\", {\n              className: `page-item${currentPage === page ? \" active\" : \"\"}`,\n              children: /*#__PURE__*/_jsxDEV(\"a\", {\n                className: \"page-link\",\n                href: \"#\",\n                onClick: e => this.handleClick(page, e),\n                children: page\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 187,\n                columnNumber: 19\n              }, this)\n            }, index, false, {\n              fileName: _jsxFileName,\n              lineNumber: 181,\n              columnNumber: 17\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 148,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nPagination.propTypes = {\n  totalRecords: PropTypes.number.isRequired,\n  pageLimit: PropTypes.number,\n  pageNeighbours: PropTypes.number,\n  onPageChanged: PropTypes.func\n};\nexport default Pagination;","map":{"version":3,"sources":["/app/src/pages/Pagination.js"],"names":["React","Component","Fragment","PropTypes","LEFT_PAGE","RIGHT_PAGE","range","from","to","step","i","push","Pagination","constructor","props","gotoPage","page","onPageChanged","f","currentPage","Math","max","min","totalPages","paginationData","pageLimit","totalRecords","setState","handleClick","evt","preventDefault","handleMoveLeft","state","pageNeighbours","handleMoveRight","fetchPageNumbers","totalNumbers","totalBlocks","pages","leftBound","rightBound","beforeLastPage","startPage","endPage","pagesCount","length","singleSpillOffset","leftSpill","rightSpill","leftSpillPage","rightSpillPage","extraPages","ceil","componentDidMount","componentDidUpdate","prevProps","prevState","render","map","index","e","propTypes","number","isRequired","func"],"mappings":"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","sourcesContent":["import React, { Component, Fragment } from \"react\";\nimport PropTypes from \"prop-types\";\n\nconst LEFT_PAGE = \"LEFT\";\nconst RIGHT_PAGE = \"RIGHT\";\n\nconst range = (from, to, step = 1) => {\n  let i = from;\n  const range = [];\n\n  while (i <= to) {\n    range.push(i);\n    i += step;\n  }\n\n  return range;\n};\n\nclass Pagination extends Component {\n  constructor(props) {\n    super(props);\n\n    const { totalRecords = null, pageLimit = 30, pageNeighbours = 0 } = props;\n\n    this.pageLimit = typeof pageLimit === \"number\" ? pageLimit : 30;\n    this.totalRecords = typeof totalRecords === \"number\" ? totalRecords : 0;\n\n    this.pageNeighbours =\n      typeof pageNeighbours === \"number\"\n        ? Math.max(0, Math.min(pageNeighbours, 2))\n        : 0;\n\n    this.totalPages = Math.ceil(this.totalRecords / this.pageLimit);\n\n    this.state = { currentPage: 1 };\n  }\n\n  componentDidMount() {\n    this.gotoPage(1);\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    let {totalRecords, pageLimit, pageNeighbours} = prevProps\n    \n    if(totalRecords !== this.totalRecords){\n      this.pageLimit = typeof pageLimit === \"number\" ? pageLimit : 30;\n      this.totalRecords = typeof totalRecords === \"number\" ? totalRecords : 0;\n\n      this.pageNeighbours =\n        typeof pageNeighbours === \"number\"\n          ? Math.max(0, Math.min(pageNeighbours, 2))\n          : 0;\n\n      this.totalPages = Math.ceil(this.totalRecords / this.pageLimit);\n\n      // this.state = { currentPage: 1 };\n\n      // this.setState({ currentPage: 1 })\n    }\n  }\n\n  gotoPage = page => {\n    const { onPageChanged = f => f } = this.props;\n\n    const currentPage = Math.max(0, Math.min(page, this.totalPages));\n\n    const paginationData = {\n      currentPage,\n      totalPages: this.totalPages,\n      pageLimit: this.pageLimit,\n      totalRecords: this.totalRecords\n    };\n\n    this.setState({ currentPage }, () => onPageChanged(paginationData));\n  };\n\n  handleClick = (page, evt) => {\n    evt.preventDefault();\n    this.gotoPage(page);\n  };\n\n  handleMoveLeft = evt => {\n    evt.preventDefault();\n    this.gotoPage(this.state.currentPage - this.pageNeighbours * 2 - 1);\n  };\n\n  handleMoveRight = evt => {\n    evt.preventDefault();\n    this.gotoPage(this.state.currentPage + this.pageNeighbours * 2 + 1);\n  };\n\n  fetchPageNumbers = () => {\n    const totalPages = this.totalPages;\n    const currentPage = this.state.currentPage;\n    const pageNeighbours = this.pageNeighbours;\n\n    const totalNumbers = this.pageNeighbours * 2 + 3;\n    const totalBlocks = totalNumbers + 2;\n\n    if (totalPages > totalBlocks) {\n      let pages = [];\n\n      const leftBound = currentPage - pageNeighbours;\n      const rightBound = currentPage + pageNeighbours;\n      const beforeLastPage = totalPages - 1;\n\n      const startPage = leftBound > 2 ? leftBound : 2;\n      const endPage = rightBound < beforeLastPage ? rightBound : beforeLastPage;\n\n      pages = range(startPage, endPage);\n\n      const pagesCount = pages.length;\n      const singleSpillOffset = totalNumbers - pagesCount - 1;\n\n      const leftSpill = startPage > 2;\n      const rightSpill = endPage < beforeLastPage;\n\n      const leftSpillPage = LEFT_PAGE;\n      const rightSpillPage = RIGHT_PAGE;\n\n      if (leftSpill && !rightSpill) {\n        const extraPages = range(startPage - singleSpillOffset, startPage - 1);\n        pages = [leftSpillPage, ...extraPages, ...pages];\n      } else if (!leftSpill && rightSpill) {\n        const extraPages = range(endPage + 1, endPage + singleSpillOffset);\n        pages = [...pages, ...extraPages, rightSpillPage];\n      } else if (leftSpill && rightSpill) {\n        pages = [leftSpillPage, ...pages, rightSpillPage];\n      }\n\n      return [1, ...pages, totalPages];\n    }\n\n    return range(1, totalPages);\n  };\n\n  render() {\n    if (!this.totalRecords) return null;\n\n    if (this.totalPages === 1) return null;\n\n    const { currentPage } = this.state;\n    const pages = this.fetchPageNumbers();\n    \n    return (\n      <Fragment>\n        <nav aria-label=\"Countries Pagination\">\n          <ul className=\"pagination\">\n            {pages.map((page, index) => {\n              if (page === LEFT_PAGE)\n                return (\n                  <li key={index} className=\"page-item\">\n                    <a\n                      className=\"page-link\"\n                      href=\"#\"\n                      aria-label=\"Previous\"\n                      onClick={this.handleMoveLeft}\n                    >\n                      <span aria-hidden=\"true\">&laquo;</span>\n                      <span className=\"sr-only\">Previous</span>\n                    </a>\n                  </li>\n                );\n\n              if (page === RIGHT_PAGE)\n                return (\n                  <li key={index} className=\"page-item\">\n                    <a\n                      className=\"page-link\"\n                      href=\"#\"\n                      aria-label=\"Next\"\n                      onClick={this.handleMoveRight}\n                    >\n                      <span aria-hidden=\"true\">&raquo;</span>\n                      <span className=\"sr-only\">Next</span>\n                    </a>\n                  </li>\n                );\n\n              return (\n                <li\n                  key={index}\n                  className={`page-item${\n                    currentPage === page ? \" active\" : \"\"\n                  }`}\n                >\n                  <a\n                    className=\"page-link\"\n                    href=\"#\"\n                    onClick={e => this.handleClick(page, e)}\n                  >\n                    {page}\n                  </a>\n                </li>\n              );\n            })}\n          </ul>\n        </nav>\n      </Fragment>\n    );\n  }\n}\n\nPagination.propTypes = {\n  totalRecords: PropTypes.number.isRequired,\n  pageLimit: PropTypes.number,\n  pageNeighbours: PropTypes.number,\n  onPageChanged: PropTypes.func\n};\n\nexport default Pagination;\n"]},"metadata":{},"sourceType":"module"}