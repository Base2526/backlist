{"ast":null,"code":"var _jsxFileName = \"/app/src/components/navbar.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faSignInAlt } from \"@fortawesome/free-solid-svg-icons\";\nimport \"@fortawesome/fontawesome-free-brands\";\nimport \"@fortawesome/fontawesome-free-regular\";\nimport { connect } from 'react-redux';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport Menu from \"@material-ui/core/Menu\";\nimport Typography from '@material-ui/core/Typography';\nimport { useHistory } from \"react-router-dom\";\nimport NotificationsIcon from '@material-ui/icons/Notifications';\nimport { LazyLoadImage } from 'react-lazy-load-image-component';\nimport { toast } from \"react-toastify\";\nimport { isEmpty } from '../utils';\nimport { userLogout, loadingOverlay, clearCached } from '../actions/user';\nimport LogoutDialog from '../pages/LogoutDialog';\nimport LoginDialog from '../pages/LoginDialog';\nimport previewIcon from '../images/preview-icon.png';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _ = require('lodash');\n\nconst Navbar = props => {\n  _s();\n\n  const history = useHistory();\n  const [anchorEl, setAnchorEl] = useState(null);\n  const [showModal, setShowModal] = useState(false);\n  const [showModalLogout, setShowModalLogout] = useState(false);\n  const [loadingOverlay, setLoadingOverlay] = useState(false);\n  const [maintenance, setMaintenance] = useState(false);\n  const [follows, setFollows] = useState([]);\n  useEffect(() => {\n    if (!_.isEmpty(props.follows)) {\n      setFollows(props.follows.filter(el => el.status));\n    }\n  }, []);\n  useEffect(() => {\n    setMaintenance(props.maintenance);\n  }, [props.maintenance]);\n\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n\n  const handleClick = event => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"section\", {\n    children: /*#__PURE__*/_jsxDEV(\"nav\", {\n      className: \"navbar navbar-expand-md navbar-dark bg-violet25\",\n      \"aria-label\": \"Fourth navbar example\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container\",\n        children: [/*#__PURE__*/_jsxDEV(\"a\", {\n          className: \"navbar-brand\",\n          children: \"Banlist.info\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"sign-inout\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-signout text-white\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: _.isEmpty(props.user) ? /*#__PURE__*/_jsxDEV(\"div\", {\n                  style: {\n                    cursor: 'pointer'\n                  },\n                  onClick: () => {\n                    setShowModal(true);\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n                    icon: faSignInAlt\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 77,\n                    columnNumber: 43\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"text font-prompt\",\n                    children: \"\\u0E40\\u0E02\\u0E49\\u0E32\\u0E2A\\u0E39\\u0E48\\u0E23\\u0E30\\u0E1A\\u0E1A \"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 78,\n                    columnNumber: 43\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 74,\n                  columnNumber: 41\n                }, this) : /*#__PURE__*/_jsxDEV(\"ul\", {\n                  className: \"flex-container row\",\n                  children: [/*#__PURE__*/_jsxDEV(\"li\", {\n                    className: \"flex-item\",\n                    children: [/*#__PURE__*/_jsxDEV(NotificationsIcon, {\n                      className: \"notifications-icon\",\n                      onClick: () => {\n                        history.push({\n                          pathname: `/notifications`,\n                          state: {}\n                        });\n                      }\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 82,\n                      columnNumber: 49\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"notifications-span\",\n                      children: \"1\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 87,\n                      columnNumber: 49\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 81,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                    className: \"flex-item\",\n                    children: /*#__PURE__*/_jsxDEV(LazyLoadImage, {\n                      className: \"lazy-load-image-border-radius\",\n                      alt: 'image.alt',\n                      width: \"40px\",\n                      height: \"40px\",\n                      effect: \"blur\",\n                      onClick: handleClick,\n                      placeholderSrc: previewIcon,\n                      src: props.user.image_url\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 90,\n                      columnNumber: 47\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 89,\n                    columnNumber: 45\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 80,\n                  columnNumber: 43\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 71,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Menu, {\n                keepMounted: true,\n                anchorEl: anchorEl,\n                onClose: handleClose,\n                open: Boolean(anchorEl),\n                children: [/*#__PURE__*/_jsxDEV(MenuItem, {\n                  onClick: () => {\n                    history.push({\n                      pathname: `/my-profile`,\n                      state: {}\n                    });\n                    setAnchorEl(null);\n                  },\n                  children: \"My Profile\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 109,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n                  onClick: () => {\n                    history.push({\n                      pathname: `/new-post`,\n                      state: {}\n                    });\n                    setAnchorEl(null);\n                  },\n                  children: \"New post\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 117,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n                  onClick: () => {\n                    history.push({\n                      pathname: `/my-profile/my-post`,\n                      state: {}\n                    });\n                    setAnchorEl(null);\n                  },\n                  children: [\"Posts \", props.my_apps.length]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 122,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n                  onClick: () => {\n                    history.push({\n                      pathname: `/my-profile/follows`,\n                      state: {}\n                    });\n                    setAnchorEl(null);\n                  },\n                  children: [\"Follows \", follows.length]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 128,\n                  columnNumber: 17\n                }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n                  onClick: () => {\n                    setShowModalLogout(true);\n                    setAnchorEl(null);\n                  },\n                  children: \"Logout\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 134,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 104,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(LoginDialog, {\n                showModal: showModal,\n                mode: \"login\",\n                onClose: () => {\n                  setShowModal(false);\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 140,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(LogoutDialog, {\n                showModalLogout: showModalLogout,\n                onClose: () => {\n                  setShowModalLogout(false);\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 141,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 70,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 59,\n    columnNumber: 5\n  }, this);\n}; // export default Navbar;\n\n\n_s(Navbar, \"EEUeAhOC7VT82GX8RwKw/bX8Rug=\", false, function () {\n  return [useHistory];\n});\n\n_c = Navbar;\n\nconst mapStateToProps = (state, ownProps) => {\n  console.log('state > ', state.user.data);\n  return {\n    user: state.user.data,\n    data: state.app.data,\n    follows: state.app.follows,\n    follow_ups: state.user.follow_ups,\n    my_apps: state.my_apps.data,\n    maintenance: state.setting.maintenance,\n    socket_data: state.socket.data\n  };\n};\n\nconst mapDispatchToProps = {\n  userLogout,\n  loadingOverlay,\n  clearCached\n};\nexport default connect(mapStateToProps, mapDispatchToProps)(Navbar);\n\nvar _c;\n\n$RefreshReg$(_c, \"Navbar\");","map":{"version":3,"sources":["/app/src/components/navbar.js"],"names":["React","useEffect","useState","FontAwesomeIcon","faSignInAlt","connect","AppBar","Toolbar","MenuItem","Menu","Typography","useHistory","NotificationsIcon","LazyLoadImage","toast","isEmpty","userLogout","loadingOverlay","clearCached","LogoutDialog","LoginDialog","previewIcon","_","require","Navbar","props","history","anchorEl","setAnchorEl","showModal","setShowModal","showModalLogout","setShowModalLogout","setLoadingOverlay","maintenance","setMaintenance","follows","setFollows","filter","el","status","handleClose","handleClick","event","currentTarget","user","cursor","push","pathname","state","image_url","Boolean","my_apps","length","mapStateToProps","ownProps","console","log","data","app","follow_ups","setting","socket_data","socket","mapDispatchToProps"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faSignInAlt } from \"@fortawesome/free-solid-svg-icons\";\nimport {} from \"@fortawesome/fontawesome-free-brands\";\nimport {} from \"@fortawesome/fontawesome-free-regular\";\n\n\nimport { connect } from 'react-redux'\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport Menu from \"@material-ui/core/Menu\";\nimport Typography from '@material-ui/core/Typography';\nimport { useHistory } from \"react-router-dom\";\nimport NotificationsIcon from '@material-ui/icons/Notifications';\nimport { LazyLoadImage } from 'react-lazy-load-image-component';\nimport { toast }    from \"react-toastify\";\n\nimport {isEmpty} from '../utils'\nimport { userLogout, loadingOverlay, clearCached } from '../actions/user';\nimport LogoutDialog from '../pages/LogoutDialog'\nimport LoginDialog from '../pages/LoginDialog'\nimport previewIcon from '../images/preview-icon.png';\n\nvar _ = require('lodash');\n\nconst Navbar = (props) => {\n  const history = useHistory();\n  const [anchorEl, setAnchorEl]               = useState(null);\n  const [showModal, setShowModal]             = useState(false);\n  const [showModalLogout, setShowModalLogout] = useState(false);\n  const [loadingOverlay, setLoadingOverlay]   = useState(false);\n\n  const [maintenance, setMaintenance]   = useState(false);\n\n  const [follows, setFollows]     = useState([]);\n\n  useEffect(() => {\n    if(!_.isEmpty(props.follows)){\n      setFollows(props.follows.filter((el)=>el.status))\n    }\n    \n  },[]);\n\n\n  useEffect(() => {\n    setMaintenance(props.maintenance)\n  },[props.maintenance]);\n\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n  \n  const handleClick = (event) => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  return (\n    <section>\n      <nav\n        className=\"navbar navbar-expand-md navbar-dark bg-violet25\"\n        aria-label=\"Fourth navbar example\"\n      >\n        <div className=\"container\">\n          <a className=\"navbar-brand\">Banlist.info</a>\n     \n          <div className=\"sign-inout\">\n            <button className=\"btn btn-signout text-white\">\n\n              <div>\n                <div>\n\n                  {  _.isEmpty(props.user) ?  \n                                        <div \n                                            style={{cursor:'pointer'}}\n                                            onClick={()=>{ setShowModal(true) }}>\n                                          <FontAwesomeIcon icon={faSignInAlt} />\n                                          <span className=\"text font-prompt\">เข้าสู่ระบบ </span>\n                                        </div>\n                                        : <ul className=\"flex-container row\">\n                                            <li className=\"flex-item\">\n                                                <NotificationsIcon \n                                                  className=\"notifications-icon\"\n                                                  onClick={()=>{\n                                                    history.push({pathname: `/notifications`, state: {} })\n                                                  }} />\n                                                <span className=\"notifications-span\">1</span>\n                                            </li>\n                                            <li className=\"flex-item\">\n                                              <LazyLoadImage\n                                                className=\"lazy-load-image-border-radius\"\n                                                alt={'image.alt'}\n                                                width=\"40px\"\n                                                height=\"40px\"\n                                                effect=\"blur\"\n                                                onClick={handleClick}\n                                                placeholderSrc={previewIcon}\n                                                src={props.user.image_url} \n                                                />\n                                            </li>\n                                          </ul>\n                                          }\n                </div>\n                <Menu\n                  keepMounted\n                  anchorEl={anchorEl}\n                  onClose={handleClose}\n                  open={Boolean(anchorEl)}>\n                  <MenuItem \n                    onClick={()=>{\n                      history.push({pathname: `/my-profile`, state: {} })\n                      setAnchorEl(null);\n                    }}>My Profile</MenuItem>\n\n                    {/* My post (10) */}\n\n                  <MenuItem \n                    onClick={()=>{\n                      history.push({pathname: `/new-post`, state: {} })\n                      setAnchorEl(null);\n                    }}>New post</MenuItem>\n                  <MenuItem \n                    onClick={()=>{\n                      history.push({pathname: `/my-profile/my-post`, state: {} })\n                      setAnchorEl(null);\n                    }}>Posts {props.my_apps.length}</MenuItem>\n\n                <MenuItem \n                    onClick={()=>{\n                      history.push({pathname: `/my-profile/follows`, state: {} })\n                      setAnchorEl(null);\n                    }}>Follows {follows.length}</MenuItem>\n                    \n                  <MenuItem \n                    onClick={()=>{\n                      setShowModalLogout(true); \n                      setAnchorEl(null);\n                    }}>Logout</MenuItem>\n                </Menu> \n                <LoginDialog showModal={showModal} mode={\"login\"} onClose = {()=>{setShowModal(false)}} />\n                <LogoutDialog showModalLogout={showModalLogout} onClose = {()=>{setShowModalLogout(false)}} />\n              </div>\n            </button>\n          </div>\n        </div>\n      </nav>\n    </section>\n  );\n}\n\n// export default Navbar;\n\nconst mapStateToProps = (state, ownProps) => {\n\n  console.log('state > ', state.user.data)\n\treturn {\n    user: state.user.data,\n    data: state.app.data,\n\n    follows: state.app.follows,\n\n    follow_ups: state.user.follow_ups,\n\n\n    my_apps: state.my_apps.data,\n    maintenance: state.setting.maintenance,\n\n    socket_data: state.socket.data\n  };\n}\n\nconst mapDispatchToProps = {\n  userLogout,\n  loadingOverlay,\n  clearCached\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Navbar)\n"]},"metadata":{},"sourceType":"module"}